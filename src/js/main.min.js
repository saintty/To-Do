function createCheckButton(t){t.addEventListener("click",(()=>{t.parentNode.classList.toggle("task_complete")}))}function createDeleteButton(t){t.addEventListener("click",(()=>{t.parentNode.remove(),saveTasksInLocalStorage()}))}function createTask(t,e=!1){const a=document.createElement("li");a.classList.add("todo__item","task"),e&&a.classList.add("task_complete");const s=document.createElement("button");s.classList.add("task__status","task__button"),createCheckButton(s);const n=document.createElement("p");n.classList.add("task__message"),n.innerText=t;const o=document.createElement("button");o.classList.add("task__delete-button","task__button"),createDeleteButton(o);const c=document.createElement("img");return c.classList.add("task__delete-img"),c.setAttribute("src","images/delete.svg"),c.setAttribute("alt","Крест кнопки удаления"),o.appendChild(c),a.appendChild(s),a.appendChild(n),a.appendChild(o),a}function saveTasksInLocalStorage(){const t=[];[...document.getElementsByClassName("task")].forEach((e=>{const a=e.querySelector(".task__message").innerText,s=e.classList.contains("task_complete");t.push([a,s])})),localStorage.setItem("todo list tasks",JSON.stringify(t))}function loadTasksFromLocalStorage(t){let e=localStorage.getItem("todo list tasks");e&&(e=JSON.parse(e),e.forEach((e=>{const a=e[0],s=e[1];t.appendChild(createTask(a,s))})))}function init(){const t=document.getElementById("form"),e=document.getElementById("input"),a=document.getElementById("todo__list");loadTasksFromLocalStorage(a),t.addEventListener("submit",(t=>{t.preventDefault(),""!==e.value&&(a.appendChild(createTask(e.value)),e.value="",saveTasksInLocalStorage())}))}window.onload=init;